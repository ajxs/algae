<html>
<head>
	<title>Algae</title>

	<script type="text/javascript" src="../src/main.js"></script>
	<script type="text/javascript">

		let testComponent = {
			data: {
				collection: [
					{
						name: "item 1",
						description: "first test",
						status: true,
						subitems: [
							{
								status: true,
								description: 'item 1: subitem1 desc'
							}, {
								status: false,
								description: 'item 1: subitem2 desc'
							}, {
								status: true,
								description: 'item 1: subitem3 desc'
							}
						]
					}, {
						name: "item 2",
						description: "second test",
						status: false,
						subitems: [
							{
								status: true,
								description: 'item 2: subitem1 desc'
							}, {
								status: true,
								description: 'item 2: subitem2 desc'
							}, {
								status: false,
								description: 'item 2: subitem3 desc'
							}
						]
					}, {
						name: "item 3",
						description: "third test",
						status: true,
						subitems: [
							{
								status: true,
								description: 'item 3: subitem1 desc'
							}, {
								status: true,
								description: 'item 3: subitem2 desc'
							}, {
								status: false,
								description: 'item 3: subitem3 desc'
							}
						]
					},
				],
				items: [
					"first",
					"second",
					"third"
				]
			},
			container: 'testComponentContainer',
			template: 'testComponentTemplate',
			templateInstance: null
		};

		window.onload = function() {
			$_algae.loadComponent(testComponent);
		};

	</script>


	<script type="text/html" id="testComponentTemplate">
		<ul>
			<li class="#!^($self.name.replace(' ','-'))" data-loop-source="collection">
				<h1>#!$name</h1>
				<div>#!$description</div>
				<div data-display-condition="$self.status">
					RESOLVED - #!^($self.name.replace(' ','-'))
				</div>
				<div data-display-condition="!$self.status">
					UNRESOLVED
				</div>
				<ul>
					<li data-display-condition="$self.status" data-loop-source="subitems">
						<div>#!$description</div>
					</li>
				</ul>
			</li>
		</ul>
		TEST LIST
		<ul>
			<li data-loop-source="items">
				test - #!%
			</li>
		</ul>
	</script>

</head>
<body>
	<div id="testComponentContainer"></div>
</body>
</html>
